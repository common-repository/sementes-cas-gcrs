{"version":3,"file":"admin.js","sources":["admin.js"],"sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n\"use strict\";\n\n/**\n * Plugin Template admin js.\n *\n *  @package WordPress Plugin Template/JS\n */\njQuery(document).ready(function ($) {\n  /***** Date Time Picker translation */\n  $.timepicker.regional['pt-BR'] = {\n    monthNames: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],\n    monthNamesShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],\n    dayNames: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sabado'],\n    dayNamesShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sab'],\n    dayNamesMin: ['Do', 'Se', 'Te', 'Qua', 'Qui', 'Se', 'Sa'],\n    weekHeader: 'Sem',\n    timeOnlyTitle: 'Escolha a hora',\n    timeText: 'Hora',\n    hourText: 'Horas',\n    minuteText: 'Minutos',\n    secondText: 'Segundos',\n    millisecText: 'Milissegundos',\n    timezoneText: 'Fuso horário',\n    currentText: 'Agora',\n    closeText: 'Fechar',\n    timeFormat: 'HH:mm',\n    dateFormat: 'dd/mm/yy',\n    amNames: ['a.m.', 'AM', 'A'],\n    pmNames: ['p.m.', 'PM', 'P'],\n    ampm: false\n  };\n  $.timepicker.setDefaults($.timepicker.regional['pt-BR']);\n  jQuery('#eitagcr_enable_delivery_place, #eitagcr_enable_simplified_dashboard').change(function () {\n    var is_menu_tab_settings = jQuery('.redux-group-menu .sementes-settings.active');\n\n    if (is_menu_tab_settings.length) {\n      var is_first_time = true;\n      var e = jQuery('#redux-footer .spinner')[0];\n      var observer = new MutationObserver(function (event) {\n        if (!is_first_time) {\n          window.onbeforeunload = null;\n          window.location.reload();\n        }\n\n        is_first_time = false;\n      });\n      observer.observe(e, {\n        attributes: true,\n        attributeFilter: ['class'],\n        childList: false,\n        characterData: false\n      });\n      jQuery('#redux-footer #redux_bottom_save').click();\n    }\n  });\n  /***** Set DateTimePicker *****/\n\n  $('#cycle_open_time').datetimepicker();\n  $('#cycle_close_time').datetimepicker();\n\n  function ajax_get_report_or_analytics(action, form_id) {\n    var form_data = jQuery('form.redux-form-wrapper').serializeArray();\n    form_data.push({\n      name: 'form_id',\n      value: form_id\n    });\n    form_data = jQuery.param(form_data);\n    var data = {\n      action: action,\n      security: CYCLE_AJAX_VARS.security_get_cycle_report,\n      form_data: form_data\n    };\n    jQuery.post(ajaxurl, data, function (response) {\n      jQuery('input#redux_bottom_save').click();\n      response = JSON.parse(response.slice(0, -1));\n      $(response.html_element + \" #sementes_analytics_1\").DataTable().clear().destroy();\n      $(response.html_element + \" #sementes_analytics_2\").DataTable().clear().destroy();\n      $(response.html_element + \" #sementes_analytics_3\").DataTable().clear().destroy();\n      jQuery(response.html_element)[0].innerHTML = response.html_content;\n      $(response.html_element + \" #sementes_analytics_1\").DataTable(datatable_config);\n      $(response.html_element + \" #sementes_analytics_2\").DataTable(datatable_config);\n      $(response.html_element + \" #sementes_analytics_3\").DataTable(datatable_config);\n    });\n  }\n\n  var ajax_action = 'get_cycle_report';\n  jQuery('select#cycle_report_1-select').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 1);\n  });\n  jQuery('select#cycle_report_2-select').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 2);\n  });\n  jQuery('select#cycle_report_3-select').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 3);\n  });\n  jQuery('select#cycle_report_4-select').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 4);\n  });\n  jQuery('select#cycle_report_5-select').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 5);\n  });\n  jQuery('select#cycle_report_6-select').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 6);\n  });\n  jQuery('select#cycle_report_7-select').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 7);\n  });\n  jQuery('select#cycle_report_8-select').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 8);\n  });\n  jQuery('select#cycle_report_9-select').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 9);\n  });\n  jQuery('select#orderby_report_1-select').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 1);\n  });\n  jQuery('input#eitagcr_include_client_info_report_1').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 1);\n  });\n  jQuery('input#eitagcr_include_client_info_report_4').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 4);\n  });\n  jQuery('input#eitagcr_remove_local_pickup_report_7').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 7);\n  });\n  jQuery('input#eitagcr_includetax_report_1').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 1);\n  });\n  jQuery('input#eitagcr_includetax_report_2').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 2);\n  });\n  jQuery('input#eitagcr_includetax_report_3').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 3);\n  });\n  jQuery('input#eitagcr_includetax_report_4').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 4);\n  });\n  jQuery('input#eitagcr_includetax_report_5').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 5);\n  });\n  jQuery('input#eitagcr_includetax_report_6').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 6);\n  });\n  jQuery('input#eitagcr_includetax_report_7').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 7);\n  });\n  jQuery('input#eitagcr_includetax_report_8').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 8);\n  });\n  jQuery('input#eitagcr_includetax_report_9').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_report', 9);\n  });\n  jQuery('select#cycle_analytics_1-select').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_analytics', 1);\n  });\n  jQuery('select#cycle_analytics_2-select').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_analytics', 2);\n  });\n  jQuery('select#cycle_analytics_3-select').change(function () {\n    return ajax_get_report_or_analytics('get_cycle_analytics', 2);\n  });\n  /***** Validate cycle via ajax before post publish *****/\n\n  var is_valid_cycle = false;\n  jQuery('#publish').click(function (e) {\n    if (jQuery('#redux-eitagcr-metabox-metabox-cycle-dates').length) {\n      if (is_valid_cycle) {\n        is_valid_cycle = false;\n        return;\n      }\n\n      e.preventDefault();\n      var form_data = jQuery('#post').serializeArray();\n      form_data = jQuery.param(form_data);\n      var data = {\n        action: 'cycle_pre_submit_validation',\n        security: CYCLE_AJAX_VARS.security_pre_cycle_publish_validation,\n        form_data: form_data\n      };\n      jQuery.post(ajaxurl, data, function (response) {\n        if (response.indexOf('True') > -1 || response.indexOf('true') > -1 || response === true) {\n          is_valid_cycle = true;\n          jQuery('#publish').click();\n        } else {\n          window.onbeforeunload = null;\n          alert(response.slice(0, -1));\n        }\n      });\n    }\n  });\n  var is_download_btn = false;\n  var download_btns = jQuery(\"button[name=report_data]\");\n\n  if (download_btns.length > 0) {\n    for (var i = 0; i < download_btns.length; i++) {\n      download_btns[i].addEventListener(\"click\", function () {\n        is_download_btn = true;\n      });\n    }\n  }\n  /** Clean report select  */\n\n\n  var reports_default_cycle = jQuery(\"input[is_default_cycle_id=true]\");\n\n  if (reports_default_cycle.length > 0) {\n    window.addEventListener(\"beforeunload\", function (event) {\n      if (!is_download_btn) {\n        var reports_default_cycle = jQuery(\"input[is_default_cycle_id=true]\");\n\n        if (reports_default_cycle.length > 0) {\n          reports_default_cycle.each(function (i) {\n            var report_id = reports_default_cycle[i].attributes[\"report_id\"].value;\n            var value = reports_default_cycle[i].value;\n            var report_select = jQuery(\"#cycle_report_\" + report_id + \"-select\");\n            report_select[0].value = value;\n          });\n        }\n      } else {\n        is_download_btn = false;\n      }\n    });\n  }\n  /** Init analytics datables  */\n\n\n  var datatable_config = {\n    paging: false,\n    dom: 'Bfrtip',\n    buttons: ['csvHtml5', 'pdfHtml5'],\n    responsive: false,\n    columnDefs: [{\n      targets: -1,\n      className: 'dt-body-right'\n    }],\n    language: {\n      processing: \"Processando...\",\n      search: \"\",\n      searchPlaceholder: \"Digite para buscar...\",\n      lengthMenu: \"Mostrar _MENU_ entradas\",\n      info: \"Exibindo entradas de _START_ a _END_ de um total de _TOTAL_ entradas\",\n      infoEmpty: \"Exibindo 0 de 0 entradas.\",\n      infoFiltered: \"(filtradas de _MAX_ entradas no total)\",\n      infoPostFix: \"\",\n      loadingRecords: \"Carregando entradas...\",\n      zeroRecords: \"Nenhuma entrada para exibir\",\n      emptyTable: \"Nenhum dado para exibir na tabela\",\n      paginate: {\n        first: \"Primeiro\",\n        previous: \"Anterior\",\n        next: \"Próximo\",\n        last: \"Útimo\"\n      },\n      aria: {\n        sortAscending: \": clique para ordenar de forma crescente\",\n        sortDescending: \": clique para ordenar de forma decrescente\"\n      }\n    }\n  };\n  $(\"#sementes_analytics_1\").DataTable(datatable_config);\n  $(\"#sementes_analytics_2\").DataTable(datatable_config);\n  $(\"#sementes_analytics_3\").DataTable(datatable_config);\n});\n\n},{}]},{},[1]);\n"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","jQuery","document","ready","$","ajax_get_report_or_analytics","action","form_id","form_data","serializeArray","data","push","name","value","param","security","CYCLE_AJAX_VARS","security_get_cycle_report","post","ajaxurl","response","click","JSON","parse","slice","html_element","DataTable","clear","destroy","innerHTML","html_content","datatable_config","timepicker","regional","monthNames","monthNamesShort","dayNames","dayNamesShort","dayNamesMin","weekHeader","timeOnlyTitle","timeText","hourText","minuteText","secondText","millisecText","timezoneText","currentText","closeText","timeFormat","dateFormat","amNames","pmNames","ampm","setDefaults","change","is_first_time","MutationObserver","event","window","onbeforeunload","location","reload","observe","attributes","attributeFilter","childList","characterData","datetimepicker","is_valid_cycle","is_download_btn","preventDefault","security_pre_cycle_publish_validation","indexOf","alert","download_btns","addEventListener","reports_default_cycle","each","report_id","paging","dom","buttons","responsive","columnDefs","targets","className","language","processing","search","searchPlaceholder","lengthMenu","info","infoEmpty","infoFiltered","infoPostFix","loadingRecords","zeroRecords","emptyTable","paginate","first","previous","next","last","aria","sortAscending","sortDescending"],"mappings":"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"}